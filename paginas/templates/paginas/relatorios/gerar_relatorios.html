{% extends "base.html" %}
{% load static %}

{% block title %}Filtro de Relatórios{% endblock title %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">Gerar Relatório de Máquinas e Manutenções</h2>

    <form method="get" action="{% url 'gerar_relatorios_manutencoes' %}">
        <div class="row g-3">
            <div class="col-md-4">
                <label for="nome" class="form-label">Nome da Máquina</label>
                <input type="text" class="form-control" id="nome" name="nome" placeholder="Ex: Escavadeira" value="{{ request.GET.nome }}">
            </div>

            <div class="col-md-4">
                <label for="condicao" class="form-label">Condição</label>
                <select class="form-select" id="condicao" name="condicao">
                    <option value="">Todas</option>
                    <option value="Nova" {% if request.GET.condicao == "Nova" %}selected{% endif %}>Nova</option>
                    <option value="Usada" {% if request.GET.condicao == "Usada" %}selected{% endif %}>Usada</option>
                </select>
            </div>

            <div class="col-md-4">
                <label for="ano" class="form-label">Ano</label>
                <input type="number" class="form-control" id="ano" name="ano" min="1900" max="2100" value="{{ request.GET.ano }}">
            </div>

            <div class="col-md-6">
                <label for="data_inicio" class="form-label">Data Inicial da Manutenção</label>
                <input type="date" class="form-control" id="data_inicio" name="data_inicio" value="{{ request.GET.data_inicio }}">
            </div>

            <div class="col-md-6">
                <label for="data_fim" class="form-label">Data Final da Manutenção</label>
                <input type="date" class="form-control" id="data_fim" name="data_fim" value="{{ request.GET.data_fim }}">
            </div>
        </div>

        <div class="mt-4 d-flex justify-content-end">
            <button type="submit" class="btn btn-primary">
                Gerar PDF <i class="bi bi-file-earmark-pdf-fill"></i>
            </button>
        </div>
    </form>
</div>
{% endblock %}